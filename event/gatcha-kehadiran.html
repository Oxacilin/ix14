<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta property="og:site_name" content="Gatcha Kehadiran • IX 14" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://ix14.netlify.app/a/card.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1280" />
    <meta property="og:image:height" content="800" />
    <meta property="twitter:card" content="summary_large_image" />

    <!--=============== FAVICON ===============-->
    <link
      rel="shortcut icon"
      href="https://ix14.netlify.app/a/icon.png"
      type="image/x-icon"
    />

    <!--=============== REMIX ICONS ===============-->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />

    <!--=============== CSS ===============-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />

    <!--=============== TITLE ===============-->
    <title>Gatcha Kehadiran • IX-14</title>

    <!--=============== FONT ===============-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css?family=Raleway:100,600"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <style>
    .btn2 {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2em;
      padding: 20px 30px;
      filter: drop-shadow(0 0 10px white) saturate(0);
    }
    ::selection {
      background-color: white;
      color: #000;
      border-radius: 50%;
    }
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    .form-control:focus,
    .form-control:active {
      outline: none;
      box-shadow: none;
    }
    .form-control:focus {
      border-color: #fff;
      box-shadow: 0 0 0 0.2rem rgba(255, 255, 255, 0.25);
    }
    button.btn-close:focus {
      outline: none;
      box-shadow: none;
    }

    * {
      cursor: url("https://ix14.netlify.app/a/mbak-rita.png"), auto;
    }
  </style>
  <body>
    <button
      type="button"
      class="btn2 btn btn-outline-light"
      data-bs-toggle="modal"
      onclick="assignTimeSlot()"
    >
      <i class="fa-solid fa-biohazard fa-beat"></i>
    </button>

    <!--=============== SCRIPT ===============-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
      function assignTimeSlot() {
        // Show the SweetAlert2 modal with the input field
        window.Swal.fire({
          title: "Enter your name:",
          input: "text",
          inputAttributes: {
            required: true,
          },
          showCancelButton: false,
          confirmButtonText: "Assign time slot",
        }).then((result) => {
          if (result.isConfirmed) {
            // Get the user's name and capitalize first letter
            const name = result.value.trim();
            const capitalizedFirstName =
              name.charAt(0).toUpperCase() + name.slice(1);

            // Notify user that their assigned time slot will be revealed shortly
            window.Swal.fire({
              title: `Hi ${capitalizedFirstName}!`,
              html: `Your assigned time slot will be revealed in <b><span id="countdown">3</span> seconds.</b>`,
              timer: 3000,
              timerProgressBar: true,
              showConfirmButton: false,
              didOpen: () => {
                const content = window.Swal.getPopup();
                const interval = setInterval(() => {
                  const timer = content.querySelector("#countdown");
                  const remainingTime = parseInt(timer.textContent);
                  if (remainingTime > 1) {
                    timer.textContent = remainingTime - 1;
                  } else {
                    clearInterval(interval);
                    // Generate a random time slot
                    const timeSlots = ["K1", "K2", "K3", "K4", "K5"];
                    const randomIndex = Math.floor(
                      Math.random() * timeSlots.length
                    );
                    const assignedTimeSlot = timeSlots[randomIndex];
                    // Notify user of assigned time slot
                    window.Swal.fire({
                      title: `Hi ${capitalizedFirstName}!`,
                      html: `Your assigned time slot is <strong>${assignedTimeSlot}</strong>.<br>Please arrive between <strong>${getTimeSlotStart(
                        assignedTimeSlot
                      )}</strong> and <strong>${getTimeSlotEnd(
                        assignedTimeSlot
                      )}</strong>.`,
                      icon: "info",
                    });
                  }
                }, 1000);
              },
            });
          }
        });

        // Helper function to get the start time of a time slot
        function getTimeSlotStart(timeSlot) {
          switch (timeSlot) {
            case "K1":
              return "6:00:00 PM";
            case "K2":
              return "6:05:00 PM";
            case "K3":
              return "6:10:00 PM";
            case "K4":
              return "6:15:00 PM";
            case "K5":
              return "6:20:00 PM";
          }
        }

        // Helper function to get the end time of a time slot
        function getTimeSlotEnd(timeSlot) {
          switch (timeSlot) {
            case "K1":
              return "6:05:00 PM";
            case "K2":
              return "6:10:00 PM";
            case "K3":
              return "6:15:00 PM";
            case "K4":
              return "6:20:00 PM";
            case "K5":
              return "6:25:00 PM";
          }
        }
      }
    </script>
    <script>
      if (typeof document.onselectstart != "undefined") {
        document.onselectstart = new Function("return false");
      } else {
        document.onmousedown = new Function("return false");
        document.onmouseup = new Function("return true");
      }

      document.addEventListener("contextmenu", (event) =>
        event.preventDefault()
      );
    </script>
  </body>
</html>
